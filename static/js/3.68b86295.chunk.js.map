{"version":3,"sources":["components/Dialogs/Dialogs.module.css","components/Dialogs/DialogItem/DialogItem.module.css","components/Dialogs/DialogMessage/DialogMessage.module.css","components/Dialogs/DialogItem/DialogItem.jsx","components/Dialogs/DialogMessage/DialogMessage.jsx","components/Dialogs/Dialogs.jsx","components/Dialogs/DialogsContainer.jsx"],"names":["module","exports","DialogItem","props","path","id","className","d","dialog","dialogAva","to","name","DialogMessage","message","AddMessageFormRedux","reduxForm","form","onSubmit","handleSubmit","DialogMessagesWriting","Field","component","Input","placeholder","DialogMessagesWritingInput","DialogMessagesWritingButton","Dialogs","useEffect","userId","match","params","undefined","getUser","messagesElements","users","messages","dialogsElements","map","length","m","DialogsItems","shouldDialogBoxBeOpened","DialogMessages","DialogMessagesItems","DialogNoMessages","value","sendMessage","compose","connect","state","profilePage","profile","usersPage","withAuthRedirect"],"mappings":"uGACAA,EAAOC,QAAU,CAAC,QAAU,yBAAyB,aAAe,8BAA8B,eAAiB,gCAAgC,oBAAsB,qCAAqC,iBAAmB,kCAAkC,sBAAwB,uCAAuC,2BAA6B,4CAA4C,4BAA8B,+C,oBCAzaD,EAAOC,QAAU,CAAC,OAAS,2BAA2B,UAAY,gC,oBCAlED,EAAOC,QAAU,CAAC,QAAU,iC,wICUbC,EAPI,SAACC,GAChB,IAAIC,EAAI,mBAAeD,EAAME,IAC7B,OACI,yBAAKC,UAAWC,IAAEC,QAAQ,yBAAKF,UAAWC,IAAEE,YAAiB,kBAAC,IAAD,CAASC,GAAIN,GAAOD,EAAMQ,Q,kBCEhFC,EANO,SAACT,GACnB,OACI,yBAAKG,UAAWC,IAAEM,SAAUV,EAAMU,U,0BCWpCC,EAAsBC,YAAU,CAACC,KAAM,kBAAjBD,EATL,SAACZ,GACpB,OACI,0BAAMc,SAAUd,EAAMe,aAAcZ,UAAWC,IAAEY,uBAC7C,kBAACC,EAAA,EAAD,CAAOC,UAAWC,IAAOX,KAAK,UAAUY,YAAY,eAAejB,UAAWC,IAAEiB,6BAChF,4BAAQlB,UAAWC,IAAEkB,6BAArB,YA+CGC,EAxCC,SAACvB,GACbwB,qBAAU,WACN,IAAIC,EAASzB,EAAM0B,MAAMC,OAAOF,YACjBG,IAAXH,EACAzB,EAAM6B,QAAQJ,GAEdzB,EAAM6B,QAAQ,aAEnB,CAAC7B,EAAM0B,MAAMC,OAAOF,SAEvB,IAIIK,EAJAC,EAAQ/B,EAAM+B,MACdC,EAAWhC,EAAMgC,SAEjBC,EAAkBF,EAAMG,KAAK,SAAA9B,GAAC,OAAI,kBAAC,EAAD,CAAYF,GAAIE,EAAEF,GAAIM,KAAMJ,EAAEI,UAIhEsB,OADYF,IAAbI,GAA0BA,EAASG,OACfH,EAASE,KAAI,SAAAE,GAAC,OAAI,kBAAC,EAAD,CAAe1B,QAAS0B,EAAE1B,aAE5C,8CAOvB,OACI,yBAAKP,UAAWC,IAAEmB,SACd,yBAAKpB,UAAWC,IAAEiC,cACbJ,IAE8B,IAAlCjC,EAAMsC,wBAAkC,yBAAKnC,UAAWC,IAAEmC,gBACvD,yBAAKpC,UAAW6B,EAASG,OAAO/B,IAAEoC,oBAAoBpC,IAAEqC,kBACnDX,GAEL,kBAACnB,EAAD,eAAqBG,SAbb,SAAC4B,GACjB1C,EAAM2C,YAAY3C,EAAME,GAAIwC,EAAMhC,WAYwBV,KAC/C,OCtCJ4C,sBACXC,aAVoB,SAACC,GACrB,MAAO,CACH5C,GAAI4C,EAAMC,YAAYC,QAAQ9C,GAC9BoC,wBAAyBQ,EAAMC,YAAYC,QAAQV,wBACnDP,MAAOe,EAAMG,UAAUlB,MACvBC,SAAUc,EAAMC,YAAYC,QAAQhB,YAKf,CAAEW,gBAAad,cACxCqB,IAFWN,CAGbrB","file":"static/js/3.68b86295.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"Dialogs\":\"Dialogs_Dialogs__2rPVZ\",\"DialogsItems\":\"Dialogs_DialogsItems__D9V5e\",\"DialogMessages\":\"Dialogs_DialogMessages__1yjD-\",\"DialogMessagesItems\":\"Dialogs_DialogMessagesItems__vW_46\",\"DialogNoMessages\":\"Dialogs_DialogNoMessages__1k0ph\",\"DialogMessagesWriting\":\"Dialogs_DialogMessagesWriting__3_0eW\",\"DialogMessagesWritingInput\":\"Dialogs_DialogMessagesWritingInput__2SKsE\",\"DialogMessagesWritingButton\":\"Dialogs_DialogMessagesWritingButton__27qGc\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"dialog\":\"DialogItem_dialog__1227K\",\"dialogAva\":\"DialogItem_dialogAva__3viBK\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"message\":\"DialogMessage_message___R2sN\"};","import React from 'react';\r\nimport d from './DialogItem.module.css';\r\nimport { NavLink } from 'react-router-dom';\r\n\r\nconst DialogItem = (props) => {\r\n    let path = `/dialogs/${props.id}`;\r\n    return (\r\n        <div className={d.dialog}><div className={d.dialogAva}></div><NavLink to={path}>{props.name}</NavLink></div>\r\n    )\r\n}\r\n\r\nexport default DialogItem;","import React from 'react';\r\nimport d from './DialogMessage.module.css';\r\n\r\nconst DialogMessage = (props) => {\r\n    return (\r\n        <div className={d.message}>{props.message}</div>\r\n    )\r\n}\r\n\r\nexport default DialogMessage;","import React, {useEffect} from 'react';\r\nimport d from './Dialogs.module.css';\r\nimport DialogItem from './DialogItem/DialogItem';\r\nimport DialogMessage from './DialogMessage/DialogMessage';\r\nimport { Field, reduxForm } from 'redux-form';\r\nimport { Input } from '../common/FormsControlls/FormsControlls';\r\n\r\nconst AddMessageForm = (props) => {\r\n    return (\r\n        <form onSubmit={props.handleSubmit} className={d.DialogMessagesWriting}>\r\n            <Field component={Input} name='message' placeholder='Send message' className={d.DialogMessagesWritingInput} />\r\n            <button className={d.DialogMessagesWritingButton}>Send</button>\r\n        </form>\r\n    )\r\n}\r\n\r\nconst AddMessageFormRedux = reduxForm({form: 'AddMessageForm'})(AddMessageForm);\r\n\r\nconst Dialogs = (props) => {\r\n    useEffect(() => {\r\n        let userId = props.match.params.userId;\r\n        if (userId !== undefined) {\r\n            props.getUser(userId);\r\n        } else {\r\n            props.getUser('Default');\r\n        }\r\n    }, [props.match.params.userId]);\r\n\r\n    let users = props.users;\r\n    let messages = props.messages;\r\n\r\n    let dialogsElements = users.map( d => <DialogItem id={d.id} name={d.name} /> );\r\n    let messagesElements;\r\n\r\n    if(messages !== undefined && messages.length){\r\n        messagesElements = messages.map(m => <DialogMessage message={m.message} />);\r\n    }else{\r\n        messagesElements = 'This is the beginning of your communication';\r\n    }\r\n\r\n    let addNewMessage = (value) => {\r\n        props.sendMessage(props.id, value.message);\r\n    }\r\n\r\n    return (\r\n        <div className={d.Dialogs}>\r\n            <div className={d.DialogsItems}>\r\n                {dialogsElements}\r\n            </div>\r\n            {props.shouldDialogBoxBeOpened !== false?<div className={d.DialogMessages}>\r\n                <div className={messages.length?d.DialogMessagesItems:d.DialogNoMessages}>\r\n                    {messagesElements}\r\n                </div>\r\n                <AddMessageFormRedux onSubmit={addNewMessage} {...props}/>\r\n            </div>:null}\r\n        </div>\r\n    );\r\n}\r\nexport default Dialogs;","import React from 'react';\r\nimport { connect } from 'react-redux';\r\nimport { compose } from 'redux';\r\nimport { withAuthRedirect } from '../../hoc/withAuthRedirect';\r\nimport { getUser, sendMessage } from './../../redux/profile-reducer';\r\nimport Dialogs from './Dialogs';\r\n\r\nconst mapStateToProps = (state) => {\r\n    return {\r\n        id: state.profilePage.profile.id,\r\n        shouldDialogBoxBeOpened: state.profilePage.profile.shouldDialogBoxBeOpened,\r\n        users: state.usersPage.users,\r\n        messages: state.profilePage.profile.messages,\r\n    };\r\n}\r\n\r\nexport default compose(\r\n    connect(mapStateToProps, { sendMessage, getUser }),\r\n    withAuthRedirect,\r\n)(Dialogs);"],"sourceRoot":""}